version: '3'
services:
  hell_pot:
    build:
      context: ../hell_pot
      dockerfile: ../hell_pot/Dockerfile
    container_name: hell_pot
    restart: unless-stopped
    networks:
      main:
        ipv4_address: 172.20.1.1
    ports:
      - "8080:8080"

  endless_ssh:
    build:
      context: ../endlessh
      dockerfile: ../endlessh/Dockerfile
    container_name: endless_ssh
    restart: unless-stopped
    networks:
      main:
        ipv4_address: 172.20.1.2
    ports:
      - "22:2222"

  dshield:
    image: dshield/honeypot
    container_name: dshield
    ports:
      - "2222:2222"
    env_file:
      - ../DockerFile/dshield/env.txt
    restart: unless-stopped
    networks:
      main:
        ipv4_address: 172.20.1.3

  ddospot:
    build:
        context: ../ddospot
        dockerfile: ../ddospot/Dockerfile
    image: aelth/simpledns
    volumes:
        - ./ddospot/bl:/ddospot/bl
        - ./ddospot/db:/ddospot/db
        - ./ddospot/logs:/ddospot/logs
        - ./ddospot/pot:/ddospot/pot
    ports:
        - target: 19
          published: 19
          protocol: udp
          mode: host
        - target: 53
          published: 54
          protocol: udp
          mode: host
        - target: 123
          published: 123
          protocol: udp
          mode: host
        - target: 161
          published: 161
          protocol: udp
          mode: host
        - target: 1900
          published: 1901
          protocol: udp
          mode: host
    networks:
        main:
            ipv4_address: 172.20.1.3


networks:
  main:
    external: true